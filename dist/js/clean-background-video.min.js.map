{"version":3,"sources":["scripts.js","components/clean-background-video.js"],"names":["document","addEventListener","event","window","NodeList","prototype","forEach","Array","t","a","g","m","n","b","push","A","z","B","h","k","p","d","u","c","owner","state_","data_","then","l","v","q","TypeError","_typeof","call","w","r","x","C","D","y","then_","length","e","this","f","Promise","s","exports","Polyfill","define","amd","E","setImmediate","setTimeout","constructor","fulfilled","rejected","catch","all","Object","toString","race","reject","global","self","isIE11","MSInputMethodContext","documentMode","CleanBackgroundVideo","cleanBackgroundVideo","arguments","undefined","options","_classCallCheck","cleanBackgroundVideos","_objectSpread","setDimensions","debounce","bind","bindEvents","_this","playPromise","init","setLoaded","video","error","console","log","target","querySelector","clientWidth","height","clientHeight","style","width","concat","tempVideo","classList","timeout","context","args","callNow","clearTimeout","wait","func"],"mappings":"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","file":"clean-background-video.min.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function(event) {\r\n\r\n  // Polyfills\r\n  if (window.NodeList && !NodeList.prototype.forEach) {\r\n    NodeList.prototype.forEach = Array.prototype.forEach;\r\n  }\r\n\r\n  (function(t){function z(){for(var a=0;a<g.length;a++)g[a][0](g[a][1]);g=[];m=!1}function n(a,b){g.push([a,b]);m||(m=!0,A(z,0))}function B(a,b){function c(a){p(b,a)}function h(a){k(b,a)}try{a(c,h)}catch(d){h(d)}}function u(a){var b=a.owner,c=b.state_,b=b.data_,h=a[c];a=a.then;if(\"function\"===typeof h){c=l;try{b=h(b)}catch(d){k(a,d)}}v(a,b)||(c===l&&p(a,b),c===q&&k(a,b))}function v(a,b){var c;try{if(a===b)throw new TypeError(\"A promises callback cannot return that same promise.\");if(b&&(\"function\"===\r\ntypeof b||\"object\"===typeof b)){var h=b.then;if(\"function\"===typeof h)return h.call(b,function(d){c||(c=!0,b!==d?p(a,d):w(a,d))},function(b){c||(c=!0,k(a,b))}),!0}}catch(d){return c||k(a,d),!0}return!1}function p(a,b){a!==b&&v(a,b)||w(a,b)}function w(a,b){a.state_===r&&(a.state_=x,a.data_=b,n(C,a))}function k(a,b){a.state_===r&&(a.state_=x,a.data_=b,n(D,a))}function y(a){var b=a.then_;a.then_=void 0;for(a=0;a<b.length;a++)u(b[a])}function C(a){a.state_=l;y(a)}function D(a){a.state_=q;y(a)}function e(a){if(\"function\"!==\r\ntypeof a)throw new TypeError(\"Promise constructor takes a function argument\");if(!1===this instanceof e)throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");this.then_=[];B(a,this)}var f=t.Promise,s=f&&\"resolve\"in f&&\"reject\"in f&&\"all\"in f&&\"race\"in f&&function(){var a;new f(function(b){a=b});return\"function\"===typeof a}();\"undefined\"!==typeof exports&&exports?(exports.Promise=s?f:e,exports.Polyfill=e):\"function\"==\r\ntypeof define&&define.amd?define(function(){return s?f:e}):s||(t.Promise=e);var r=\"pending\",x=\"sealed\",l=\"fulfilled\",q=\"rejected\",E=function(){},A=\"undefined\"!==typeof setImmediate?setImmediate:setTimeout,g=[],m;e.prototype={constructor:e,state_:r,then_:null,data_:void 0,then:function(a,b){var c={owner:this,then:new this.constructor(E),fulfilled:a,rejected:b};this.state_===l||this.state_===q?n(u,c):this.then_.push(c);return c.then},\"catch\":function(a){return this.then(null,a)}};e.all=function(a){if(\"[object Array]\"!==\r\nObject.prototype.toString.call(a))throw new TypeError(\"You must pass an array to Promise.all().\");return new this(function(b,c){function h(a){e++;return function(c){d[a]=c;--e||b(d)}}for(var d=[],e=0,f=0,g;f<a.length;f++)(g=a[f])&&\"function\"===typeof g.then?g.then(h(f),c):d[f]=g;e||b(d)})};e.race=function(a){if(\"[object Array]\"!==Object.prototype.toString.call(a))throw new TypeError(\"You must pass an array to Promise.race().\");return new this(function(b,c){for(var e=0,d;e<a.length;e++)(d=a[e])&&\"function\"===\r\ntypeof d.then?d.then(b,c):b(d)})};e.resolve=function(a){return a&&\"object\"===typeof a&&a.constructor===this?a:new this(function(b){b(a)})};e.reject=function(a){return new this(function(b,c){c(a)})}})(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this);\r\n\r\n});\r\n","const isIE11 = !!window.MSInputMethodContext && !!document.documentMode;\r\n\r\n/**\r\n * Entry point for the plugin.\r\n */\r\nclass CleanBackgroundVideo {\r\n  constructor(cleanBackgroundVideo = [], options) {\r\n    this.cleanBackgroundVideos = cleanBackgroundVideo;\r\n    if (this.cleanBackgroundVideos.length <= 0) return;\r\n    \r\n    const defaultOptions = { }\r\n\r\n    this.options = { ...defaultOptions, ...options };\r\n    this.setDimensions = this.debounce(this.setDimensions.bind(this), 50);\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.bindEvents();\r\n    this.setDimensions();\r\n  }\r\n\r\n  bindEvents() {\r\n    window.addEventListener('resize', () => { this.setDimensions() });\r\n\r\n    this.cleanBackgroundVideos.forEach( (cleanBackgroundVideo) => {\r\n      let video = cleanBackgroundVideo.querySelector('video');\r\n      let playPromise = video.play();\r\n\r\n      if (playPromise !== undefined) {\r\n        playPromise.then( () => {\r\n          this.setLoaded(null, video)\r\n        }).catch( (error) => {\r\n          console.log(error);\r\n        })\r\n      }\r\n\r\n      if (isIE11) {\r\n        this.setLoaded(null, video);\r\n      }\r\n\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Sets the loaded classes on video elements.\r\n   */\r\n  setLoaded(event, video = null) {\r\n    let tempVideo = event !== null ? event.target : video;\r\n    tempVideo.classList.add('background-video-loaded');\r\n    this.setDimensions();\r\n  }\r\n\r\n  setDimensions() {\r\n    this.cleanBackgroundVideos.forEach( (cleanBackgroundVideo) => {\r\n      let video = cleanBackgroundVideo.querySelector('video');\r\n      let width = cleanBackgroundVideo.clientWidth;\r\n      let height = cleanBackgroundVideo.clientHeight;\r\n\r\n      video.style.width = `${width}px`;\r\n      video.style.height = 'auto';\r\n\r\n      if (height > video.clientHeight) {\r\n        video.style.width = 'auto';\r\n        video.style.height = `${height}px`;\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  // Returns a function, that, as long as it continues to be invoked, will not\r\n  // be triggered. The function will be called after it stops being called for\r\n  // N milliseconds. If `immediate` is passed, trigger the function on the\r\n  // leading edge, instead of the trailing.\r\n  debounce(func, wait, immediate) {\r\n    var timeout;\r\n    return function() {\r\n      var context = this, args = arguments;\r\n      var later = function() {\r\n        timeout = null;\r\n        if (!immediate) func.apply(context, args);\r\n      };\r\n      var callNow = immediate && !timeout;\r\n      clearTimeout(timeout);\r\n      timeout = setTimeout(later, wait);\r\n      if (callNow) func.apply(context, args);\r\n    };\r\n  };\r\n}"]}