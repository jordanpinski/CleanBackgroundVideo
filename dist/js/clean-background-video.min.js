"use strict";document.addEventListener("DOMContentLoaded",function(o){window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach)});
"use strict";function ownKeys(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var isIE11=!!window.MSInputMethodContext&&!!document.documentMode,CleanBackgroundVideo=function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length?arguments[1]:void 0;_classCallCheck(this,n),this.cleanBackgroundVideos=e,this.cleanBackgroundVideos.length<=0||(this.options=_objectSpread(_objectSpread({},{}),t),this.setDimensions=this.debounce(this.setDimensions.bind(this),50),this.init())}return _createClass(n,[{key:"init",value:function(){this.bindEvents(),this.setDimensions()}},{key:"bindEvents",value:function(){var n=this;window.addEventListener("resize",function(){n.setDimensions()}),this.cleanBackgroundVideos.forEach(function(e){var t=e.querySelector("video"),e=t.play();void 0!==e&&e.then(function(){n.setLoaded(null,t)}).catch(function(e){console.log(e)}),isIE11&&n.setLoaded(null,t)})}},{key:"setLoaded",value:function(e,t){t=1<arguments.length&&void 0!==t?t:null;(null!==e?e.target:t).classList.add("background-video-loaded"),this.setDimensions()}},{key:"setDimensions",value:function(){this.cleanBackgroundVideos.forEach(function(e){var t=e.querySelector("video"),n=e.clientWidth,e=e.clientHeight;t.style.width="".concat(n,"px"),t.style.height="auto",e>t.clientHeight&&(t.style.width="auto",t.style.height="".concat(e,"px"))})}},{key:"debounce",value:function(i,o,r){var c;return function(){var e=this,t=arguments,n=r&&!c;clearTimeout(c),c=setTimeout(function(){c=null,r||i.apply(e,t)},o),n&&i.apply(e,t)}}}]),n}();
//# sourceMappingURL=clean-background-video.min.js.map
